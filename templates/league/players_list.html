{% extends "base.html" %}
{% block title %}Players{% endblock %}
{% block content %}
<h2 class="mb-3">Players</h2>
<table class="table table-striped">
  <thead>
    <tr><th>Name</th><th>Team</th><th>Position</th><th>Number</th></tr>
  </thead>
  <tbody>
    {% for player in page_obj %}
    <tr>
      <td><a href="{% url 'player_detail' player.pk %}">{{ player.first_name }} {% if player.last_name %}{{ player.last_name }}{% endif %}</a></td>
      <td>{% if player.team %}<a href="{% url 'team_detail' player.team.pk %}">{{ player.team.name }}</a>{% else %}—{% endif %}</td>
      <td>{{ player.get_position_display }}</td>
      <td>{{ player.number|default:"—" }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="4">No players yet. <a href="{% url 'add_player' %}">Add one</a>.</td></tr>
    {% endfor %}
  </tbody>
</table>

<nav class="mt-4">
  <ul class="pagination">
    {% if page_obj.has_previous %}
      <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a></li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">Previous</span></li>
    {% endif %}
    <li class="page-item disabled"><span class="page-link">Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span></li>
    {% if page_obj.has_next %}
      <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a></li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">Next</span></li>
    {% endif %}
  </ul>
</nav>
{% endblock %}
